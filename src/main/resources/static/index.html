<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöó Estoque de Ve√≠culos - Sistema</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
<!-- Cabe√ßalho -->
<header class="header">
    <div class="container">
        <h1><i class="fas fa-car"></i> Estoque de Ve√≠culos</h1>
        <p>Sistema de gerenciamento completo</p>
    </div>
</header>

<!-- Menu de Navega√ß√£o -->
<nav class="navbar">
    <div class="container">
        <ul>
            <li><a href="#veiculos" class="nav-link active" data-section="veiculos">Ve√≠culos</a></li>
            <li><a href="#marcas" class="nav-link" data-section="marcas">Marcas</a></li>
            <li><a href="#modelos" class="nav-link" data-section="modelos">Modelos</a></li>
            <li><a href="#relatorios" class="nav-link" data-section="relatorios">Relat√≥rios</a></li>
        </ul>
    </div>
</nav>

<div class="container">
    <!-- SE√á√ÉO: VE√çCULOS -->
    <section id="veiculos" class="section active">
        <div class="section-header">
            <h2><i class="fas fa-list"></i> Gerenciar Ve√≠culos</h2>
            <button class="btn btn-primary" onclick="abrirModalVeiculo()">
                <i class="fas fa-plus"></i> Novo Ve√≠culo
            </button>
        </div>

        <!-- Filtros -->
        <div class="filters">
            <input type="text" id="filtroGeral" placeholder="Buscar por marca, modelo..."
                   onkeyup="filtrarVeiculos()">
            <select id="filtroStatus" onchange="filtrarVeiculos()">
                <option value="">Todos os status</option>
                <option value="dispon√≠vel">Dispon√≠vel</option>
                <option value="vendido">Vendido</option>
                <option value="reservado">Reservado</option>
            </select>
            <button class="btn btn-secondary" onclick="limparFiltros()">
                <i class="fas fa-times"></i> Limpar
            </button>
        </div>

        <!-- Lista de Ve√≠culos -->
        <div id="listaVeiculos" class="cards-container">
            <!-- Os ve√≠culos ser√£o carregados aqui via JavaScript -->
            <div class="loading">Carregando ve√≠culos...</div>
        </div>
    </section>

    <!-- SE√á√ÉO: MARCAS -->
    <section id="marcas" class="section">
        <div class="section-header">
            <h2><i class="fas fa-tags"></i> Gerenciar Marcas</h2>
            <button class="btn btn-primary" onclick="abrirModalMarca()">
                <i class="fas fa-plus"></i> Nova Marca
            </button>
        </div>
        <div id="listaMarcas" class="cards-container"></div>
    </section>

    <!-- SE√á√ÉO: MODELOS -->
    <section id="modelos" class="section">
        <div class="section-header">
            <h2><i class="fas fa-car-side"></i> Gerenciar Modelos</h2>
            <button class="btn btn-primary" onclick="abrirModalModelo()">
                <i class="fas fa-plus"></i> Novo Modelo
            </button>
        </div>
        <div id="listaModelos" class="cards-container"></div>
    </section>

    <!-- SE√á√ÉO: RELAT√ìRIOS -->
    <section id="relatorios" class="section">
        <div class="section-header">
            <h2><i class="fas fa-chart-bar"></i> Relat√≥rios</h2>
        </div>

        <div class="reports-grid">
            <div class="report-card">
                <h3><i class="fas fa-chart-pie"></i> Status dos Ve√≠culos</h3>
                <div id="relatorioStatus" class="report-content"></div>
                <button class="btn btn-secondary" onclick="carregarRelatorioStatus()">
                    <i class="fas fa-sync"></i> Atualizar
                </button>
            </div>

            <div class="report-card">
                <h3><i class="fas fa-money-bill-wave"></i> Valor em Estoque</h3>
                <div id="relatorioValor" class="report-content"></div>
                <button class="btn btn-secondary" onclick="carregarRelatorioValor()">
                    <i class="fas fa-sync"></i> Atualizar
                </button>
            </div>
        </div>
    </section>
</div>

<
<div id="modalVeiculo" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="tituloModalVeiculo">Cadastrar Ve√≠culo</h3>
            <span class="close" onclick="fecharModalVeiculo()">&times;</span>
        </div>

        <style>
            #formVeiculo { padding: 1.5rem; }
        </style>

        <form id="formVeiculo" onsubmit="salvarVeiculo(event)">
            <input type="hidden" id="veiculoId">

            <div class="form-row">
                <div class="form-group">
                    <label for="marcaVeiculo">Marca *</label>
                    <select id="marcaVeiculo" required onchange="carregarModelosPorMarca()">
                        <option value="">Selecione uma marca</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="modeloVeiculo">Modelo *</label>
                    <select id="modeloVeiculo" required>
                        <option value="">Primeiro selecione uma marca</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="ano">Ano *</label>
                    <input type="number" id="ano" min="1900" max="2030" required>
                </div>

                <div class="form-group">
                    <label for="preco">Pre√ßo (R$) *</label>
                    <input type="number" id="preco" step="0.01" min="0" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="cor">Cor *</label>
                    <input type="text" id="cor" required>
                </div>

                <div class="form-group">
                    <label for="quilometragem">Quilometragem</label>
                    <input type="number" id="quilometragem" step="0.1" min="0">
                </div>
            </div>

            <div class="form-group">
                <label for="status">Status *</label>
                <select id="status" required>
                    <option value="dispon√≠vel">Dispon√≠vel</option>
                    <option value="vendido">Vendido</option>
                    <option value="reservado">Reservado</option>
                </select>
            </div>

            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="fecharModalVeiculo()">Cancelar</button>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </div>
        </form>
    </div>
</div>

<!-- MODAL: MARCAS -->
<div id="modalMarca" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Nova Marca</h3>
            <span class="close" onclick="fecharModalMarca()">&times;</span>
        </div>
        <form id="formMarca" onsubmit="salvarMarca(event)">
            <div class="form-group">
                <label for="nomeMarca">Nome da Marca *</label>
                <input type="text" id="nomeMarca" required>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="fecharModalMarca()">Cancelar</button>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </div>
        </form>
    </div>
</div>

<!-- MODAL: MODELOS -->
<div id="modalModelo" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="tituloModalModelo">Novo Modelo</h3>
            <span class="close" onclick="fecharModalModelo()">&times;</span>
        </div>
        <form id="formModelo" onsubmit="salvarModelo(event)">
            <input type="hidden" id="modeloId">

            <div class="form-group">
                <label for="nomeModelo">Nome do Modelo *</label>
                <input type="text" id="nomeModelo" required>
            </div>

            <div class="form-group">
                <label for="marcaModelo">Marca *</label>
                <select id="marcaModelo" required>
                    <option value="">Selecione uma marca</option>
                    <!-- As marcas ser√£o carregadas via JavaScript -->
                </select>
            </div>

            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="fecharModalModelo()">Cancelar</button>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </div>
        </form>
    </div>
</div>

<!-- Toast de Notifica√ß√£o -->
<div id="toast" class="toast"></div>

<script src="/js/app.js"></script>
</body>
</html>